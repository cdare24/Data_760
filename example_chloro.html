<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Kansas Counties Map</title>
  <script src="https://d3js.org/d3.v7.min.js"></script>
  <script src="https://unpkg.com/topojson-client@3"></script>
  <style>
    body {
      margin: 0;
      padding: 0;
      background: #f0f0f0;
    }
    svg {
      display: block;
      margin: auto;
      background: #fff;
      border: 1px solid #ccc;
    }
    path {
      fill: #cce5df;
      stroke: #444;
      stroke-width: 0.7;
    }
    .county:hover {
      fill: #88c;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <svg width="800" height="500"></svg>

  <script>
    const width = 800;
    const height = 500;

    const svg = d3.select("svg");

    const projection = d3.geoMercator()
      .scale(5000) // Adjust for best fit
      .translate([width / 2, height / 2]);

    const path = d3.geoPath().projection(projection);

    // Load your uploaded TopoJSON file
    d3.json("map.topojson").then(topoData => {
      // Convert the TopoJSON "collection" object into GeoJSON
      const geoData = topojson.feature(topoData, topoData.objects.collection);

      svg.selectAll("path")
        .data(geoData.features)
        .enter()
        .append("path")
        .attr("class", "county")
        .attr("d", path);
    }).catch(error => {
      console.error("Failed to load map.topojson:", error);
    });
  </script>
</body>
</html>

